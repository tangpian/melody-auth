import{_ as t,c as o,a as r,o as i}from"./app-Bvr6C8Qu.js";const d={};function n(l,e){return i(),o("div",null,e[0]||(e[0]=[r('<h1 id="email-provider-setup" tabindex="-1"><a class="header-anchor" href="#email-provider-setup"><span>Email Provider Setup</span></a></h1><p>Melody Auth relies on an email provider to send password reset links, email verification notices, and email-based MFA codes. This guide explains how to configure either SendGrid, Mailgun, Brevo, or SMTP (Node.js only) depending on your needs.</p><h2 id="supported-email-providers" tabindex="-1"><a class="header-anchor" href="#supported-email-providers"><span>Supported Email Providers</span></a></h2><ul><li><strong>Cloudflare Workers or Node.js</strong>: SendGrid, Mailgun, Resend.com and Brevo</li><li><strong>Node.js (Only)</strong>: SMTP server (in addition to the above)</li></ul><h2 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables"><span>Environment Variables</span></a></h2><p>Use the table below to configure your chosen email provider. Some variables are required only if you’re using a specific provider (e.g., SendGrid).</p><table><thead><tr><th>Variable Name</th><th>Description</th><th>Example Value</th></tr></thead><tbody><tr><td>ENVIRONMENT</td><td>Determines email routing behavior</td><td>&quot;prod&quot; or &quot;dev&quot;</td></tr><tr><td>DEV_EMAIL_RECEIVER</td><td>When ENVIRONMENT ≠ prod, all emails go here (for testing only)</td><td>&quot;test@example.com&quot;</td></tr><tr><td>SENDGRID_API_KEY</td><td>Your SendGrid API key (Required if you intend to use SendGrid)</td><td>&quot;SG.xxxxxxxxxxxxxxxxxxxxxxxx&quot;</td></tr><tr><td>SENDGRID_SENDER_ADDRESS</td><td>Verified sender email address in SendGrid (Required if you intend to use SendGrid)</td><td>&quot;noreply@yourdomain.com&quot;</td></tr><tr><td>MAILGUN_API_KEY</td><td>Your Mailgun API key (Required if you intend to use Mailgun)</td><td>&quot;xxxxxxxxxxxxxxxxxx-xxxxxxxxx&quot;</td></tr><tr><td>MAILGUN_SENDER_ADDRESS</td><td>Sender email address in Mailgun (Required if you intend to use Mailgun)</td><td>&quot;noreply@yourdomain.com&quot;</td></tr><tr><td>BREVO_API_KEY</td><td>Your Brevo API key (Required if you intend to use Brevo)</td><td>&quot;xkeysib-xxxxxxxxxxxxxxxxxxxxxxxx&quot;</td></tr><tr><td>BREVO_SENDER_ADDRESS</td><td>Verified sender address in Brevo (Required if you intend to use Brevo)</td><td>&quot;noreply@yourdomain.com&quot;</td></tr><tr><td>RESEND_API_KEY</td><td>Your Resend.com API key (Required if you intend to use Resend.com)</td><td>&quot;re_xxxxxxxxxxxxxxxxxxxxxxx&quot;</td></tr><tr><td>RESEND_SENDER_ADDRESS</td><td>Verified sender address in Resend.com (Required if you intend to use Resend.com)</td><td></td></tr><tr><td>SMTP_SENDER_ADDRESS</td><td>SMTP sender email address (Node.js only)</td><td>&quot;noreply@yourdomain.com&quot;</td></tr><tr><td>SMTP_CONNECTION_STRING</td><td>SMTP connection string (Node.js only)</td><td>&quot;smtp://username:password@smtp.mailserver.com:587&quot;</td></tr></tbody></table><h2 id="production-vs-development-behavior" tabindex="-1"><a class="header-anchor" href="#production-vs-development-behavior"><span>Production vs. Development Behavior</span></a></h2><ul><li><p>Production (ENVIRONMENT = &quot;prod&quot;)</p><ul><li>Emails are sent to actual user addresses.</li><li>Ideal for live deployments.</li></ul></li><li><p>Development (ENVIRONMENT ≠ &quot;prod&quot;)</p><ul><li>All emails are redirected to the address in DEV_EMAIL_RECEIVER.</li><li>Prevents emailing real users during testing.</li></ul></li></ul><h2 id="priority-between-providers" tabindex="-1"><a class="header-anchor" href="#priority-between-providers"><span>Priority Between Providers</span></a></h2><ul><li><p>Node.js Environment</p><ul><li>If SMTP_CONNECTION_STRING is defined, SMTP will always be used—regardless of SendGrid, Mailgun, Brevo or Resend settings.</li><li>Otherwise, if more than one API key and sender address are provided (SendGrid, Mailgun, Brevo, Resend), SendGrid is used first, then Mailgun, Brevo and finally Resend.</li></ul></li><li><p>Cloudflare Environment</p><ul><li>SMTP settings are ignored.</li><li>If you set up multiple providers (SendGrid, Mailgun, Brevo), SendGrid takes priority, followed by Mailgun, Brevo and then Resend.</li></ul></li></ul><h2 id="cloudflare-remote-production-configuration" tabindex="-1"><a class="header-anchor" href="#cloudflare-remote-production-configuration"><span>Cloudflare Remote/Production Configuration</span></a></h2><ol><li>Navigate to the Cloudflare dashboard -&gt; Go to &quot;Workers &amp; Pages&quot;</li><li>Select your &quot;melody-auth&quot; worker -&gt; &quot;Settings&quot; -&gt; &quot;Variables&quot;</li><li>Add any environment variables that apply to your use case.</li><li>Click &quot;Save and deploy&quot; to apply the changes.</li></ol><h2 id="cloudflare-local-development-or-node-js-environment" tabindex="-1"><a class="header-anchor" href="#cloudflare-local-development-or-node-js-environment"><span>Cloudflare Local/Development or Node.js Environment</span></a></h2><ol><li>In your melody-auth/server directory, locate or create a .dev.vars file (you can copy .dev.vars.example if needed).</li><li>Update any environment variables that apply to your use case to .dev.vars</li></ol>',15)]))}const s=t(d,[["render",n],["__file","email-provider-setup.html.vue"]]),u=JSON.parse('{"path":"/email-provider-setup.html","title":"Email Provider Setup","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Supported Email Providers","slug":"supported-email-providers","link":"#supported-email-providers","children":[]},{"level":2,"title":"Environment Variables","slug":"environment-variables","link":"#environment-variables","children":[]},{"level":2,"title":"Production vs. Development Behavior","slug":"production-vs-development-behavior","link":"#production-vs-development-behavior","children":[]},{"level":2,"title":"Priority Between Providers","slug":"priority-between-providers","link":"#priority-between-providers","children":[]},{"level":2,"title":"Cloudflare Remote/Production Configuration","slug":"cloudflare-remote-production-configuration","link":"#cloudflare-remote-production-configuration","children":[]},{"level":2,"title":"Cloudflare Local/Development or Node.js Environment","slug":"cloudflare-local-development-or-node-js-environment","link":"#cloudflare-local-development-or-node-js-environment","children":[]}],"git":{"updatedTime":1740446897000,"contributors":[{"name":"Baozier","username":"Baozier","email":"byn9826@gmail.com","commits":1,"url":"https://github.com/Baozier"},{"name":"Luiz Fonseca","username":"Luiz Fonseca","email":"249782+luizfonseca@users.noreply.github.com","commits":1,"url":"https://github.com/Luiz Fonseca"}]},"filePathRelative":"email-provider-setup.md"}');export{s as comp,u as data};
